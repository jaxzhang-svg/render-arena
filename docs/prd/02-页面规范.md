# Novita Arena - 页面规范

**版本**: 2.0
**最后更新**: 2025-01-18
**产品名称**: Novita Arena

---

> **重要提示** 📌
>
> 本文档中的所有页面布局、UI 示意图和交互设计均为**功能示意图**，而非最终设计稿。
>
> 设计团队应基于功能需求，运用专业设计思维重新构思界面，优先考虑视觉美感和用户体验。

---

## 目录

1. [页面规范总则](#1-页面规范总则)
2. [首页（社区画廊）](#2-首页社区画廊)
3. [生成页（PK 竞技场）](#3-生成页pk-竞技场)
4. [分享页](#4-分享页)
5. [响应式设计](#5-响应式设计)
6. [页面交互规范](#6-页面交互规范)

---

## 1. 页面规范总则

### 1.1 设计理念

三页面架构：

- **首页**（发现灵感）
- **生成页**（PK竞技）
- **分享页**（展示作品）

所有核心功能集中在生成页，通过状态切换实现生成→预览→录制→分享的完整流程。

### 1.2 页面列表

| 路由          | 页面                | 目标                       |
| ------------- | ------------------- | -------------------------- |
| `/`           | 首页（社区画廊）    | 展示精选案例，激发创作灵感 |
| `/playground` | 生成页（PK 竞技场） | 核心生成与对比环境         |
| `/g/:id`      | 分享页              | 展示 PK 结果，支持互动     |

---

## 2. 首页（社区画廊）

**路由**: `/`
**目的**: 展示最惊艳的 AI PK 案例以激发用户创作灵感

### 2.1 布局结构

```
┌─────────────────────────────────────────────────────┐
│  [Novita Arena]    首页                    [👤]      │  ← 顶部导航栏
├─────────────────────────────────────────────────────┤
│                                                      │
│           Generate Anything, Battle the Magic        │  ← Hero 标题
│                                                      │
│   ┌─────────────────────────────────────────────┐   │
│   │  💡 选择一个灵感...        [🎨 效果库 ▼]    │   │  ← 智能输入框
│   │  或直接描述你想要的应用                     │   │
│   └─────────────────────────────────────────────┘   │
│                          [🚀 开始 PK →]             │  ← 生成按钮
│                                                      │
├─────────────────────────────────────────────────────┤
│  [🔥热门] [🆕最新]                                 │  ← 分类标签
├─────────────────────────────────────────────────────┤
│                                                      │
│   ┌──────┐  ┌──────┐  ┌──────┐  ┌──────┐          │
│   │ 卡片1 │  │ 卡片2 │  │ 卡片3 │  │ 卡片4 │          │  ← 瀑布流网格
│   └──────┘  └──────┘  └──────┘  └──────┘          │
│                                                      │
└─────────────────────────────────────────────────────┘
```

### 2.2 智能输入框

**核心设计理念**: 降低创作门槛，让用户无需从零开始思考。

**交互行为**:

1. **点击输入框** → 展开灵感库
2. **点击"效果库"** → 两级效果选择
3. **组合使用**: 灵感 + 效果 = 完整提示词
4. **直接输入**: 忽略提示，直接输入创意

**灵感库示例**:

- 🕐 时钟 - 创建一个 3D 粒子时钟
- 🎮 游戏 - 制作一个扫雷游戏
- 📊 数据可视化 - 创建销售数据仪表盘
- 🎨 艺术生成器 - 生成抽象几何艺术

**效果库分类**:

| 一级分类       | 二级分类                     |
| -------------- | ---------------------------- |
| **3D效果**     | 粒子系统、物理引擎、几何体   |
| **物理效果**   | 重力模拟、碰撞检测、布料模拟 |
| **游戏**       | 休闲游戏、益智游戏、街机游戏 |
| **数据可视化** | 图表、仪表盘、时间轴         |
| **动画效果**   | 过渡动画、手势动画、路径动画 |

### 2.3 PK 应用卡片

**卡片尺寸**: 16:9 纵横比

```
┌─────────────────────────────────────────┐
│   ┌──────────┐    ┌──────────┐         │  ← 分屏预览
│   │ Model A  │ VS │ Model B  │         │
│   │ 缩略图   │    │ 缩略图   │         │
│   └──────────┘    └──────────┘         │
├─────────────────────────────────────────┤
│ 3D 物理沙盒 - @novita      [❤️ 128]   │  ← 标题 + 点赞数
├─────────────────────────────────────────┤
│ [📋 复制]  [❤️]                        │  ← 操作按钮
└─────────────────────────────────────────┘
```

**交互行为**:

- **点击卡片**: 跳转到分享页 `/g/:id`
- **复制按钮**: 复制提示词到剪贴板
- **点赞按钮**: 切换点赞状态（需登录）

---

## 3. 生成页（PK 竞技场）

**路由**: `/playground`
**目的**: 核心生成与对比环境

### 3.1 整体布局

```
┌──────────────────────────────────────────────────────────────┐
│ [← 返回]    [Model A ▼] VS [Model B ▼]    [🔴录制] [⎋分享] │  ← 顶部控制栏
├──────────────────────────────────────────────────────────────┤
│                                                              │
│   ┌────────────────────┐  ┌────────────────────┐            │
│   │                    │  │                    │            │
│   │   模型 A 区域       │  │   模型 B 区域       │            │  ← 分屏区域
│   │                    │  │                    │            │    (50/50)
│   │                    │  │                    │            │
│   └────────────────────┘  └────────────────────┘            │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│ 💡 灵感: 构建一个 3D 粒子时钟                                │  ← 灵感卡片
│ ┌─────────────────────────────────────────────────────┐      │
│ │ 输入你想要创建的应用...                             │      │  ← 输入框
│ └─────────────────────────────────────────────────────┘      │
│                                              [🚀 生成 PK →] │
└──────────────────────────────────────────────────────────────┘
```

### 3.2 分屏区域状态

#### 状态 1: 空状态（等待输入）

```
┌─────────────────────────────────────────┐
│                                         │
│         输入提示词开始 PK 生成           │
│                                         │
│    💡 提示: 尝试描述你想要的交互效果      │
│                                         │
└─────────────────────────────────────────┘
```

#### 状态 2: 生成中（流式展示）

**v2.0 关键变更**: 使用 Markdown 代码块风格展示，而非进度条

````
┌────────────────────┬────────────────────┐
│ Model A            │ Model B            │
│ ⏳ 正在生成...     │ ⏳ 正在生成...     │
├────────────────────┼────────────────────┤
│ ```html            │ ```html            │
│ <!DOCTYPE html>    │ <!DOCTYPE html>    │
│ <html lang="en">   │ <html>             │
│ <head>             │ <head>             │
│   <meta charset... │   <title>App</t... │
│   ...              │   ...              │
│ █                  │ █                  │  ← 光标闪烁
│                    │                    │
└────────────────────┴────────────────────┘
````

**流式展示规格**:

- **背景**: 深色（#1e1e1e 或类似）
- **字体**: 等宽字体（Fira Code, JetBrains Mono）
- **效果**: 打字机效果，无语法高亮（减少视觉干扰）
- **滚动**: 自动滚动到底部
- **光标**: 闪烁的方块光标

#### 状态 3: 生成完成（预览模式）

```
┌────────────────────┬────────────────────┐
│ Model A ✓          │ Model B ✓          │
├────────────────────┼────────────────────┤
│                    │                    │
│   ┌────────────┐   │   ┌────────────┐   │
│   │            │   │   │            │   │
│   │  iframe    │   │   │  iframe    │   │
│   │  预览      │   │   │  预览      │   │
│   │            │   │   │            │   │
│   └────────────┘   │   └────────────┘   │
│                    │                    │
│  [全屏] [刷新]     │  [全屏] [刷新]     │
└────────────────────┴────────────────────┘
```

**预览实现**:

- 使用 `<iframe srcdoc={htmlContent}>` 直接渲染
- 添加 `sandbox="allow-scripts allow-forms"` 安全限制
- 每侧独立的全屏和刷新按钮

#### 状态 4: 生成失败（错误状态）

```
┌────────────────────┬────────────────────┐
│ Model A ✓          │ Model B ✗          │
├────────────────────┼────────────────────┤
│                    │                    │
│   ┌────────────┐   │   ⚠️ 生成失败      │
│   │  iframe    │   │                    │
│   │  预览      │   │   HTML 格式错误    │
│   └────────────┘   │                    │
│                    │   [🔄 重试]        │
│                    │                    │
└────────────────────┴────────────────────┘
```

### 3.3 底部输入控制台

**状态管理**:

| 状态       | 显示内容                                            |
| ---------- | --------------------------------------------------- |
| **输入时** | 灵感卡片 + 输入框 + 生成按钮                        |
| **生成中** | 折叠为只读条："⏳ 正在生成... [⏹ 停止]"             |
| **生成后** | 折叠为提示条："✓ 完成！点击 [🔴 录制] 捕捉精彩瞬间" |
| **录制中** | 完全隐藏（不遮挡预览区）                            |

### 3.4 录制模式

**触发**: 点击顶部"录制"按钮（生成完成后可用）

**录制时顶部导航栏**:

```
┌──────────────────────────────────────────────────────────────┐
│ 🔴 00:05  [⏸ 暂停]  [✓ 完成]  [✕ 取消]                      │
├──────────────────────────────────────────────────────────────┤
│ 💡 创建一个 3D 时钟，包含粒子特效和重力模拟                  │  ← 只读提示词
├──────────────────────────────────────────────────────────────┤
│                                                              │
│                       预览区                                 │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

**录制规格**:

- **范围**: 整个标签页
- **格式**: WebM
- **最大时长**: 60 秒
- **上传**: Cloudflare Stream

### 3.5 分享弹窗

**触发**: 录制完成 或 点击分享按钮

```
┌───────────────────────────────────────────────────┐
│  分享你的 PK 创作                          [×]    │
├───────────────────────────────────────────────────┤
│                                                   │
│   ┌─────────────────────────────────────┐        │
│   │      16:9 视频播放器                 │        │
│   │      循环播放录制的片段              │        │
│   └─────────────────────────────────────┘        │
│                                                   │
│   应用名称: [________________]    [✨ AI 生成]    │  ← 可选 AI 生成
│   提示词: 创建一个 3D 时钟...  (只读)             │
│                                                   │
│   分享到:                                         │
│   [𝕏 Twitter]  [LinkedIn]  [📋 复制链接]         │
│                                                   │
│   [☐ 发布到画廊]              [⬇️ 下载] [发布]   │
└───────────────────────────────────────────────────┘
```

---

## 4. 分享页

**路由**: `/g/:id`
**目的**: 展示 PK 结果，支持社交分享

### 4.1 布局结构

```
┌──────────────────────────────────────────────────────────────┐
│ [Novita Arena]                              [开始创作] [👤] │  ← 顶部导航
├──────────────────────────────────────────────────────────────┤
│                                                              │
│   3D 粒子时钟                                                │  ← 应用名称
│   by @username                                               │  ← 作者
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│   ┌────────────────────┐  ┌────────────────────┐            │
│   │ Model A            │  │ Model B            │            │
│   │                    │  │                    │            │
│   │   iframe 预览      │  │   iframe 预览      │            │  ← 分屏预览
│   │                    │  │                    │            │
│   └────────────────────┘  └────────────────────┘            │
│                                                              │
├──────────────────────────────────────────────────────────────┤
│                                                              │
│   💡 提示词:                                                 │
│   创建一个 3D 时钟，包含粒子特效和重力模拟...                │
│                                                              │
│   [📋 复制提示词]  [❤️ 128]  [🔗 分享]                      │
│                                                              │
└──────────────────────────────────────────────────────────────┘
```

### 4.2 交互功能

- **预览**: 左右分屏展示两个模型的 HTML（只读 iframe）
- **复制提示词**: 点击复制，可跳转到 Playground 重新生成
- **点赞**: 登录用户可点赞
- **分享**: 复制链接或分享到社交媒体

---

## 5. 响应式设计

### 5.1 桌面端 (> 1024px)

- **分屏预览**: 左右并排 (50/50)
- **输入控制台**: 屏幕宽度的 60%
- **导航栏**: 水平布局

### 5.2 平板端 (768px - 1024px)

- **分屏预览**: 保持左右并排，最小宽度 300px
- **输入控制台**: 屏幕宽度的 80%
- **卡片网格**: 2 列

### 5.3 移动端 (< 768px)

- **分屏预览**: Tab 切换模式
  - 顶部 Tab: [Model A | Model B]
  - 一次只显示一个预览
- **输入控制台**: 全宽 (100%)
- **卡片网格**: 单列

---

## 6. 页面交互规范

### 6.1 状态机

```
idle        → 空闲，等待输入
generating  → 正在生成（流式展示代码）
completed   → 生成完成（预览模式）
error       → 生成失败（显示错误）
recording   → 录制中
sharing     → 分享弹窗打开
```

### 6.2 状态转换

```
idle → 点击生成 → generating
generating → 生成完成 → completed
generating → 生成失败 → error
error → 点击重试 → generating
completed → 点击录制 → recording
recording → 点击完成 → sharing
sharing → 关闭弹窗 → completed
```

### 6.3 快捷键

| 快捷键             | 功能                       |
| ------------------ | -------------------------- |
| `Ctrl/Cmd + Enter` | 开始生成                   |
| `Esc`              | 取消录制 / 关闭弹窗        |
| `R`                | 开始录制（生成完成后）     |
| `S`                | 打开分享弹窗（录制完成后） |

---

## 相关文档

- **产品概览**: 详见 [00-产品概览.md](./00-产品概览.md)
- **技术实现**: 详见 [01-技术规范.md](./01-技术规范.md)
- **运营设计**: 详见 [03-运营与设计.md](./03-运营与设计.md)
